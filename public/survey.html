<!DOCTYPE html>
<html lang="en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <title>Concert Connect Survey</title>

  <!-- CSS -->

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato|Original+Surfer|Play|Rock+Salt|Slackey|Wendy+One" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/stylesurvey.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>
</head>
<body>

<!--<body background="images/cat.gif" scale="100%">-->
<!--<div class="container center-align">
    <img class="" src = "images/cat.gif">
</div>-->
  <div class='container'>
    <div class='card-panel orange col s12 center'>
      <i class="large material-icons">info</i>
      <br/>
      <strong><h1>Concert Connect Survey</strong></h1>
        <div class='card-panel left-align white'>
          <span class="purple-text text-darken-2"><h5><strong>About You</strong></h5>
          <br>
          <form action=" ">
            <section class='input-field'>
              <input id="name" type="text" class="validate" required>
              <label class='active' for="name">Name (required)</label>
            </section>
            <section class='input-field'>
              <input id="name" type="text" class="validate" required>
              <label class='active' for="name">Favorite Artist (required)</label>
            </section>

            <h5><strong>Track 1</strong></h5>
            <p>At concerts I love being amongst the crowd cheering</p>
            <select data-placeholder="" class="browser-default" id="q1" required>
                <option value="" disabled selected>Your Opinion</option>
                <option value="1">1 (No Way)</option>
                <option value="2">2</option>
                <option value="3">3 (Maybe)</option>
                <option value="4">4</option>
                <option value="5">5 (Absolutely)</option>
            </select>
            
            <h5><strong>Track 2</strong></h5>
            <p>I prefer to stay towards the side with a drink and calmly enjoy the entertainment with friends</p>
            <select data-placeholder="" class="browser-default" id="q2" required>
                <option value="" disabled selected>Your Opinion</option>
                <option value="1">1 (No Way)</option>
                <option value="2">2</option>
                <option value="3">3 (Maybe)</option>
                <option value="4">4</option>
                <option value="5">5 (Absolutely)</option>
            </select>

            <h5><strong>Track 3</strong></h5>
            <p>I don't mind going to concerts by myself</p>
            <select data-placeholder="" class="browser-default" id="q3" required>
                <option value="" disabled selected>Your Opinion</option>
                <option value="1">1 (No Way)</option>
                <option value="2">2</option>
                <option value="3">3 (Maybe)</option>
                <option value="4">4</option>
                <option value="5">5 (Absolutely)</option>
            </select>

            <h5><strong>Track 4</strong></h5>
            <p>I enjoy finding new music that I have not listened to before</p>
            <select data-placeholder="" class="browser-default" id="q4" required>
                <option value="" disabled selected>Your Opinion</option>
                <option value="1">1 (No Way)</option>
                <option value="2">2</option>
                <option value="3">3 (Maybe)</option>
                <option value="4">4</option>
                <option value="5">5 (Absolutely)</option>
            </select>

            <h5><strong>Track 5</strong></h5>
            <p>I like going to large stadiums versus smaller venues </p>
            <select data-placeholder="" class="browser-default" id="q5" required>
                <option value="" disabled selected>Your Opinion</option>
                <option value="1">1 (No Way)</option>
                <option value="2">2</option>
                <option value="3">3 (Maybe)</option>
                <option value="4">4</option>
                <option value="5">5 (Absolutely)</option>
            </select>

            <h5><strong>Track 6</strong></h5>
            <p>I like getting dressed up for concerts rather than just go casual</p>
            <select data-placeholder="" class="browser-default" id="q6" required>
              <option value="" disabled selected>Your Opinion</option>
              <option value="1">1 (No Way)</option>
                <option value="2">2</option>
                <option value="3">3 (Maybe)</option>
                <option value="4">4</option>
                <option value="5">5 (Absolutely)</option>
            </select>
            <br>
              <a href='' class="waves-effect waves-light btn purple" id="submitBtn">Submit</a>
          </form>
        </div>
    </div>
    <div class='col s4'>
      
    </div>
  </div>

<!-- INFO to SERVER -->

<script type="text/javascript">


  $("#submitBtn").on("click", function(){

  console.log("submitBtn");

    function validateForm(){
      var isValid = true;

      $('.validate').each(function(){
        if($(this).val === ""){
          isValid = false;
        }
      });

      $('.browser-default').each(function(){
        if($(this).val === ""){
          isValid = false;
        }
      });
      console.log(isValid);

      return isValid;
    }

// FORM COMPLETE //

    if(validateForm() == true) {
      var userScores = [
        $('#q1').val(),
        $('#q2').val(),
        $('#q3').val(),
        $('#q4').val(),
        $('#q5').val(),
        $('#q6').val(),
      ];
      console.log(userScores);
      window.location.href = "/profile";
 

// MODAL //

        $('modal').modal();

// CLEAR SURVEY //

        $('#name').val("");
        $('#album').val("");        
        $('#q1').val("");
        $('#q2').val("");
        $('#q3').val("");
        $('#q4').val("");
        $('#q5').val("");
        $('#q6').val("");

    } else { 
      alert("Please reply to all tracks before submitting!")
    }
window.location.href = "/profile";

  return false;
});

</script>
</body>
</html>